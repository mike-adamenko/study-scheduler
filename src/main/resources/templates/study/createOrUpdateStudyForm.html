<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body},'study')}">

<body>

<h2>Schedule</h2>
<div th:replace="~{study/createOrUpdateStudyJs}"></div>
<form th:object="${study}" class="form-horizontal" id="add-study-form" method="post">
    <div class="form-group has-feedback">
        <input
                th:replace="~{fragments/inputField :: input ('Description', 'description', 'text')}"/>
        <input
                th:replace="~{fragments/selectField :: select ('Doctor', 'doctor', ${doctors})}"/>
        <input
                th:replace="~{fragments/selectField :: select ('Room', 'room', ${rooms})}"/>
        <div th:class="${'form-group'}"
             class="form-group">
            <label class="col-sm-2 control-label">Start time</label>
            <div class="col-sm-10">
                <div class='input-group date' id='startDateTime'>
                    <input type='text' class="form-control" th:field="*{startTime}" placeholder="YYYY-MM-DD HH:mm"
                           title="Enter a datetime in this format: YYYY-MM-DD HH:mm"
                           pattern="[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]) (2[0-3]|[01][0-9]):[0-5][0-9]"/>
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
                <span class="glyphicon glyphicon-ok form-control-feedback"
                      aria-hidden="true"></span>
            </div>
        </div>
        <div th:class="${'form-group'}"
             class="form-group">
            <label class="col-sm-2 control-label">End time</label>
            <div class="col-sm-10">
                <div class='input-group date' id='endDateTime'>
                    <input type='text' class="form-control" th:field="*{endTime}" placeholder="YYYY-MM-DD HH:mm"
                           title="Enter a datetime in this format: YYYY-MM-DD HH:mm"
                           pattern="[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]) (2[0-3]|[01][0-9]):[0-5][0-9]"/>
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
                <span class="glyphicon glyphicon-ok form-control-feedback"
                      aria-hidden="true"></span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button
                    th:with="text=${study['new']} ? 'Add Study' : 'Update Study'"
                    class="btn btn-default" type="submit" th:text="${text}"></button>
        </div>
    </div>
</form>


</body>
</html>
